<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
   "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

<!ENTITY courier-download-http "http://prdownloads.sourceforge.net/courier/courier-&courier-version;.tar.bz2">
<!ENTITY courier-download-ftp " ">
<!ENTITY courier-size "4.3 MB">
<!ENTITY courier-buildsize "102 MB">
<!ENTITY courier-time "2.62 SBU">

]>

<sect1 id="courier-package" xreflabel="Courier-&courier-version;">
<sect1info>
<othername>$LastChangedBy$</othername>
<date>$Date$</date>
</sect1info>
<?dbhtml filename="courier.html"?>
<title>Courier-&courier-version;</title>
<indexterm zone="courier-package">
<primary sortas="a-courier-package">Courier MTA</primary></indexterm>

<sect2>
<title>Introduction to <application>Courier</application></title>

<para>The <application>Courier</application> package contains a Mail Transport 
Agent (<acronym>MTA</acronym>). This is useful for sending email to other users 
of your host machine. It can also be configured to be a central mail server for
your domain or a mail relay agent. The <application>Courier</application> 
packages also includes a web-based email interface, <acronym>IMAP</acronym>,
<acronym>IMAP</acronym>-<acronym>SSL</acronym>, <acronym>POP</acronym>3, and
<acronym>POP</acronym>3-<acronym>SSL</acronym>.</para>

<sect3><title>Package information</title>
<itemizedlist spacing='compact'>
<listitem><para>Download (HTTP): 
<ulink url="&courier-download-http;"/></para></listitem>
<listitem><para>Download (FTP): 
<ulink url="&courier-download-ftp;"/></para></listitem>
<listitem><para>Download size: &courier-size;</para></listitem>
<listitem><para>Estimated disk space required: 
&courier-buildsize;</para></listitem>
<listitem><para>Estimated build time: 
&courier-time;</para></listitem></itemizedlist>
</sect3>

<sect3><title><application>Courier</application> dependencies</title>
<sect4><title>Required</title>
<para><xref linkend="gdbm"/></para>
</sect4>
<sect4><title>Optional</title>
<para><xref linkend="mysql"/> or <xref linkend="postgresql"/>, 
<xref linkend="Linux_PAM"/>,
<xref linkend="openssl-package"/>, 
<xref linkend="fam"/>,
<xref linkend="openldap"/>,
<xref linkend="apache"/>,
<xref linkend="ispell"/> or <xref linkend="aspell"/>,
<xref linkend="gnupg"/>,
<xref linkend="expect"/>, 
<xref linkend="gs"/> or <xref linkend="espgs"/>, 
<ulink url="http://netpbm.sourceforge.net/">Netpbm</ulink> and
<ulink url="http://alpha.greenie.net/mgetty/">Mgetty+Sendfax</ulink>
</para></sect4>
</sect3>

</sect2>

<sect2>
<title>Installation of <application>Courier</application></title>
<note><para><application>Courier's</application> tarball must be extacted as an
unpriveleged user or configure will fail.</para></note>

<para>After extracting the tarball, you'll need to <command>su</command> to 
user 'root' in order to perform the next few steps.</para>
 
<para> Before you compile the program, you need to create the courier user 
and group that is expected to be in place when the install script executes.
Add the courier user and group with the following commands:</para>

<screen><userinput><command>groupadd courier &amp;&amp;
useradd -c 'Courier Mail Server' -d /dev/null \
        -g courier -s /bin/false courier</command></userinput></screen>

<para>The install script also expects a bin user. If you already have a user
named bin, this step can be safely ignored.</para>

<screen><userinput><command>useradd -c 'bin' -d /dev/null -g bin -u 1 bin</command></userinput></screen>

<para><application>Courierfilter</application> requires the directory
<filename class="directory">/var/run/courier</filename> to store
all the <application>Courier</application> pid and lockfiles.  
<filename class="directory">/var/lock/subsys</filename> also must exist
for the master lock file for <application>Courier</application>. Issue
the following commands to create these directories:</para>

<screen><userinput><command>install -d /var/run/courier -o courier -g courier -m755 &amp;&amp;
install -d /var/lock/subsys -o root -g root -m755</command></userinput></screen>

<para>Build <application>courier</application> as an unpriveledged user
with the following commands:</para>

<screen><userinput><command>./configure --prefix=/usr --libexecdir=/usr/lib/courier \
    --datadir=/usr/share/courier --sysconfdir=/etc/courier \
    --localstatedir=/var/lib/courier --with-piddir=/var/run/courier \
    --disable-root-check --with-mailuser=courier \
    --with-mailgroup=courier \
    --with-paranoid-smtpext --disable-autorenamesent \
    --enable-workarounds-for-imap-client-bugs --with-db=gdbm &amp;&amp;
make</command></userinput></screen>

<para><command>su</command> once again to user 'root' and install
<application>courier</application> with the following commands:</para>

<screen><userinput><command>make install &amp;&amp;
make install-configure</command></userinput></screen>

</sect2>

<sect2>
<title>Command explanations</title>

<para><parameter>--libexecdir=/usr/lib/courier</parameter>: Specifies
the directory which contains programs and libraries that cannot be
directly executed from the command-line.</para>

<para><parameter>--datadir=/usr/share/courier</parameter>: Specifies the 
directory where miscellaneous shell scripts,
<application>Perl</application> scripts, and data files will be
installed.</para>

<para><parameter>--localstatedir=/var/spool/courier</parameter>:
Specifies the directory that will hold the mail queue, and other
temporary data.</para>

<para><parameter>--with-piddir=/var/run/courier</parameter>: Specifies
the directory where <application>Courier</application>'s
<filename>PID</filename> files are stored when
<application>Courier</application> is active.</para>

<para><option>--disable-root-check</option>: Allows
<application>Courier</application> to be built as the root user.</para>

<para><parameter>--with-mailuser=courier</parameter>: All except two
<application>Courier</application> daemons run as a non-privileged user.
This option specifies the userid that <application>Courier</application>
will install and run as.</para>

<para><parameter>--with-mailgroup=courier</parameter>: like
<option>--with-mailuser</option>, but specifies the group
<acronym>ID</acronym>.</para>

<para><option>--with-paranoid-smtpext</option>: Be paranoid when
negotiating Courier-specific <acronym>ESMTP</acronym> extensions with
remote servers. The <application>Courier</application> mail server
defines and implements certain experimental <acronym>ESMTP</acronym>
extensions: XVERP and XEXDATA. Problems may result in the event that
someone else uses the same name to implement some other extension. If
this option is specified, <application>Courier's</application>
<acronym>ESMTP</acronym> server will also advertise a dummy
<acronym>ESMTP</acronym> capability called XCOURIEREXTENSIONS, and will
not recognize any Courier-specific extensions unless the remote mail
server also advertises this dummy <acronym>ESMTP</acronym>
capability.</para>

<para><option>--disable-autorenamesent</option>: Do not rename the Sent
folder every month. This option can also be controlled by the
<envar>SQWEBMAIL_AUTORENAMESENT</envar> environment variable.</para>

<para><option>--enable-workarounds-for-imap-client-bugs</option>: There
are several confirmed bugs in some <acronym>IMAP</acronym> clients that
do not properly implement the <acronym>IMAP</acronym>4rev1 protocol.
This option enables some workarounds for those buggy
<acronym>IMAP</acronym> clients. NOTE: <command>make check</command>
will fail if this option is used. You should first configure without
this option, and if all post-configuration tests succeed, rerun
configure with this option and recompile.</para>

<para><parameter>--with-db=gdbm</parameter>:
<application>Courier</application> requires either the
<application><acronym>GDBM</acronym></application> or the
<application>DB</application> database library.
<application><acronym>GDBM</acronym></application> is used if both are
present. This option forces the selection of
<application>GDBM</application> as courier is currently broken when used 
with <application>DB</application>.</para>

<!-- # Note - Courier will build fine with <xref linkend="db"/>, but all
the database files will not be created correctly -->

<para><parameter>--with-ispell=/usr/bin/aspell</parameter>:
<application>Courier</application>'s webmail server can use spell
checking, if <command>configure</command> finds
<application>ispell</application> or if you explicitly set the location
of <application>aspell</application>.</para>

<para><parameter>--enable-mimetypes=<replaceable>[location of mime.types 
file]</replaceable></parameter>: Use this switch if you receive an error 
saying that the <filename>mime.types</filename> file could not be found.</para>
    
</sect2>

<sect2 id="courier-config">
<title>Configuring <application>Courier</application></title>
<indexterm zone="courier-package courier-config">
<primary sortas="e-courier-config">/etc/courier/*</primary></indexterm>

<sect3><title>Configuration Information</title>

<para>You will need to <command>su</command> to user 'root' for the 
remainder of the configuration.</para>

<para>You will need to create the following files with the contents
specified.</para>

<para><filename>/etc/courier/defaultdomain</filename></para>

<screen><userinput><command>cat &gt; /etc/courier/defaultdomain &lt;&lt; "EOF"</command>
<replaceable>[yourdomain]</replaceable>
<command>EOF</command></userinput></screen>

<para><filename>/etc/courier/me</filename></para>

<screen><userinput><command>cat &gt; /etc/courier/me &lt;&lt; "EOF"</command>
<replaceable>[servername.yourdomain]</replaceable>
<command>EOF</command></userinput></screen>

<para><filename>/etc/courier/locals</filename></para>

<screen><userinput><command>cat &gt; /etc/courier/locals &lt;&lt; "EOF"</command>
localhost
<replaceable>[yourdomain]</replaceable>
<command>EOF</command></userinput></screen>

<para><filename>/etc/courier/esmtpacceptmailfor.dir/system</filename></para>

<screen><userinput><command>cat
&gt;/etc/courier/esmtpacceptmailfor.dir/system &lt;&lt; "EOF"</command>
localhost
<replaceable>[yourdomain]</replaceable>
<command>EOF</command></userinput></screen>

<para>You will also need to edit the aliases file and change the
following entry.</para>

<para><filename>/etc/courier/aliases/system</filename></para>

<screen><userinput>postmaster: <replaceable>[your administrator email]</replaceable></userinput></screen>

<para>If you want to deny access from some hosts from sending mail, you
will need to edit the
<filename>/etc/courier/smtpaccess/default</filename> file.</para>

<para>If you wish to host mail for non local domains including virtual
domains,
you must add them to <filename>/etc/courier/hosteddomains</filename>.
This
file should exist wether you need a hosted domain list or not:</para>

<para><screen><userinput>touch
/etc/courier/hosteddomains</userinput></screen></para>

<para>After the above steps are completed you will need to run the
following commands:</para>

<screen><userinput><command>makesmtpaccess &amp;&amp;
makehosteddomains &amp;&amp;
makealiases</command></userinput></screen>

<para>For each user, you will need to create a
<filename class="directory">Maildir</filename> directory:</para>

<screen><userinput><command>cd /home/<replaceable>[username]</replaceable> &amp;&amp;
maildirmake Maildir &amp;&amp;
chown <replaceable>[username]</replaceable>.<replaceable>[username]</replaceable> Maildir -R</command></userinput></screen>

<para>If you wish to use <acronym>SSL</acronym> with
<application>Courier</application>, you should obtain certificates and
store them in <filename>/usr/share/courier</filename>.  You can
optionally create self-signed, test certificates with the following
commands:</para>

<screen><userinput><command>mkesmtpdcert &amp;&amp;
mkimapdcert &amp;&amp;
mkpop3dcert</command></userinput></screen>

<para>All of courier's configuration files reside in the directory
<filename class="directory">/etc/courier/</filename>.  For each service
<acronym>SMTP</acronym>, <acronym>POP3</acronym> and
<acronym>IMAP</acronym>, you will have a standard config file, and an 
<acronym>SSL</acronym> config file.  For each service that you
wish to utilize, you will need to edit the configuration file, and
change the <replaceable>[DAEMON]</replaceable>START variable from 'NO' to
'YES'.  For example, to use <acronym>SMTP</acronym> with
<acronym>SSL</acronym>, you'll need to edit
<filename>/etc/courier/esmtpd-ssl</filename> and change the value of
'ESMTPDSSLSTART' to 'YES'.  Make the same change for each service 
configuration that you wish to use with 
<application>courier</application>.</para>

<para>If you wish to use <acronym>LDAP</acronym>, an
<acronym>LDAP</acronym> configuration file should be created:</para>

<screen><userinput><command>echo "LDAPALIASDSTART=YES" > /etc/courier/ldapaliasd</command></userinput></screen>

<para>Similarly, if you wish to use webmail, you should create the webmail
configuration file:</para>

<screen><userinput><command>echo "WEBMAILDSTART=YES" > /etc/courier/webmaild</command></userinput></screen>

<para>You will also need to copy the <filename>webmail</filename> file from
<filename>/usr/lib/courier/courier/webmail</filename> to your <filename>cgi-bin
</filename> directory of your <application>Apache</application>
server.</para>

<screen><userinput><command>cp -a /usr/lib/courier/courier/webmail/webmail /srv/www/cgi-bin</command></userinput></screen>

<para>You will then need to copy the images to a directory under your
<filename>htdocs</filename> directory of your
<application>Apache</application> server. The directory needs to be named 
<filename>webmail</filename> or you need to specify it during the configure
phase with <parameter>--enable-imageurl=<replaceable>[URL]</replaceable></parameter>.</para>

<screen><userinput><command>cp -a /usr/share/courier/sqwebmail/images /srv/www/htdocs/webmail</command></userinput></screen>
<para><emphasis>Setup for Web-based Email</emphasis></para>

<para>If you wish to utilze the webadmin utility, you will need to copy the 
<filename>webadmin</filename> file from
<filename class="directory">/usr/lib/courier/courier/webmail</filename>
to your <filename class="directory">cgi-bin</filename> directory of your 
<application>Apache</application> server.</para>

<screen><userinput><command>cp -a /usr/lib/courier/courier/webmail/webadmin /srv/www/cgi-bin</command></userinput></screen>

<para><filename>/etc/courier/webadmin/password</filename></para>

<screen><userinput><command>cat &gt; /etc/courier/webadmin/password &lt;&lt; "EOF"</command>
<replaceable>[password]</replaceable>
<command>EOF</command></userinput></screen>

<para>If you are not using <acronym>SSL</acronym> on your <application>Apache
</application> server, you will also need to add
<filename>/etc/courier/webadmin/unsecureok</filename>, so you will be able
to use your web based administration tool.</para>

<screen><userinput><command>touch /etc/courier/webadmin/unsecureok</command></userinput></screen>

<para>If you use <application>LinuxPAM</application> on your system, 
you will need to create the <acronym>PAM</acronym> configuration files:</para>

<screen><userinput><command>cat &gt; /etc/pam.d/esmtp &lt;&lt;
"EOF"</command>
# Begin /etc/pam.d/esmtp

auth            required                pam_unix.so try_first_pass
account         required                pam_unix.so
session         required                pam_unix.so

# End /etc/pam.d/esmtp
<command>EOF
cat &gt; /etc/pam.d/pop3 &lt;&lt; "EOF"</command>
# Begin /etc/pam.d/pop3

auth            required                pam_unix.so try_first_pass
account         required                pam_unix.so
session         required                pam_unix.so

# End /etc/pam.d/pop3
<command>EOF
cat &gt; /etc/pam.d/imap &lt;&lt; "EOF"</command>
# Begin /etc/pam.d/imap

auth            required                pam_unix.so try_first_pass
account         required                pam_unix.so
session         required                pam_unix.so

# End /etc/pam.d/imap
<command>EOF
cat &gt; /etc/pam.d/webmail &lt;&lt; "EOF"</command>
# Begin /etc/pam.d/webmail

auth            required                pam_unix.so try_first_pass
account         required                pam_unix.so
session         required                pam_unix.so

# End /etc/pam.d/webmail
<command>EOF</command></userinput></screen>

<para id="courier-init">Finaly, if you wish to start courier at boot, install 
the <filename>/etc/rc.d/init.d/courier</filename> bootscript included in the
<xref linkend="intro-important-bootscripts"/> package.</para>
<indexterm zone="courier-package courier-init">
<primary sortas="f-courier-init">courier</primary></indexterm>

<screen><userinput><command>make install-courier</command></userinput></screen>

</sect3>

<!-- Begin virtual user setup * To be removed once added to the hint. -->

<sect3>

<title>Configuring for virtual users</title>

<para>These instructions will configure <application>courier</application> 
to lookup virtual users in a <application>MySQL</application> database.
Begin by making the following changes to
<filename>/etc/courier/authmysqlrc</filename>:</para>

<screen><userinput>MYSQL_SERVER            localhost
MYSQL_USERNAME          courier
MYSQL_PASSWORD          <replaceable>[your choice]</replaceable>
MYSQL_SOCKET            /tmp/mysql.sock
MYSQL_PORT              3306
MYSQL_DATABASE          courier_mail
MYSQL_USER_TABLE        users
MYSQL_CLEAR_PWFIELD     clear
DEFAULT DOMAIN          <replaceable>[your domain]</replaceable>
MYSQL_QUOTA_FIELD       quota</userinput></screen>

<para>Connect to <application>MySQL</application>:</para>

<screen><userinput><command>mysql -p</command></userinput></screen>

<para>Create the <filename>courier_mail</filename> database and setup
the users table:</para>

<screen><userinput><command>CREATE DATABASE courier_mail;
USE courier_mail
CREATE TABLE users (
id                    char(128) DEFAULT '' NOT NULL,
crypt                 char(128) DEFAULT '' NOT NULL,
clear                 char(128) DEFAULT '' NOT NULL,
name                  char(128) DEFAULT '' NOT NULL,
uid                   int(10) unsigned DEFAULT '65534' NOT NULL,
gid                   int(10) unsigned DEFAULT '65534' NOT NULL,
home                  char(255) DEFAULT '' NOT NULL,
quota                 char(255) DEFAULT '' NOT NULL,
KEY id (id(128))
);</command></userinput></screen>

<para>Grant all priveledges to the courier user created earlier:</para>

<screen><userinput><command>GRANT ALL PRIVILEGES ON *.* TO courier@localhost \
    IDENTIFIED BY '<replaceable>[password]</replaceable>' WITH GRANT OPTION;
QUIT</command></userinput></screen>

<para>Create a virtual mailman user and group:</para>
<screen><userinput><command>groupadd -g 9000 vmailman &amp;&amp;
useradd -c 'Virtual Mailman' -g vmailman -m -k /dev/null -u 9000 vmailman</command></userinput></screen>

<para>Create a mail directory for a new virtual user:</para>

<screen><userinput><command>cd /home/vmailman &amp;&amp;
mkdir <replaceable>[virtual_user]</replaceable> &amp;&amp;
cd <replaceable>[virtual_user]</replaceable> &amp;&amp;
maildirmake Maildir &amp;&amp;
chown vmailman.vmailman Maildir -R</command></userinput></screen>

<para>Now, connect the the <application>MySQL</application> database as
the courier user:</para>

<screen><userinput><command>mysql -u courier -p</command></userinput></screen>

<para>To add the virtual user you need to enter at least one version of the 
password either clear text or encrypted.</para>

<para>Add the first virtual user with the following commands:</para>

<screen><userinput><command>USE courier_mail
INSERT INTO users VALUES (
'<replaceable>[virtual_users]</replaceable>@<replaceable>[domain.com]</replaceable>,
'<replaceable>[encrypted password or blank]</replaceable>',
'<replaceable>[clear text password or blank]</replaceable>',
'<replaceable>[User's Name]</replaceable>',
9000,
9000,
'<replaceable>[location of Maildir]</replaceable>',
'<replaceable>[Quota in Bytes']</replaceable>
);
QUIT</command></userinput></screen>

<para>For example:</para>

<screen><userinput><command>INSERT INTO users VALUES (
'blfsuser@linuxfromscratch.org',
'',
'password',
'BLFS User',
9000,
9000,
'/home/vmailman/blfsuser',
''
);</command></userinput></screen>

</sect3>

<!-- End of Virtual user setup  -->

</sect2>

<sect2>
<title>Contents</title>

<segmentedlist>
<segtitle>Installed Programs</segtitle>
<segtitle>Installed Scripts</segtitle>
<segtitle>Installed Directories</segtitle>
<segtitle>Configuration Files</segtitle>
<seglistitem>
<seg>addcr, aliascreate, aliascombine, aliasexp, authenumerate, cancelmsg, 
courier, courier-config, courierd, courierfax, courierfilter,
courierldapaliasd, courierlogger, couriermlm, courierpop3d, courierpop3login, 
couriertcpd, couriertls, deliverquota, dotforward, dupfilter, imapd,
imaplogin, lockmail, mailbot, maildiracl, maildirkw, maildirmake, maildrop, 
mailq, makedat, makedatprog, makemime, mimegpg, pcpd, perlfilter, preline, 
reformail, reformime, rmail, sendmail, showmodules, sqwebmaild, submit, 
submitmkdir, testmxlookup, userdbpw, webadmin and webmail</seg>

<seg>admin-*.pl, application-pdf.filter, application-postscript.filter, 
authsystem.passwd, cleancache.pl, courierctl.start, couriermlm, 
courierwebadmin, coverpage, dumpenv.pl, esmtpd, esmtpd-ssl, faxmail, 
filterctl, htmldoc, image-gif.filter, image-jpeg.filter, image-png.filter, 
imapd, imapd-ssl, init, ldapsearch, makeacceptmailfor, makealiases, makedat, 
makehosteddomains, makepercentrelay, makesmtpaccess, makeuserdb, 
makeuucpneighbors, mkesmtpdcert, mkimapdcert, mkpop3dcert, new_fax, 
perlfilter-example.pl, perlfilter-wrapper.pl, pop3d, pop3d-ssl, pw2userdb, 
rootcerts, sendit.sh, sharedindexsplit, sharedindexinstall, sqwebmail, 
text-plain.filter, userdb, vchkpw2userdb, webadmin.pl, webgpg and 
webmaild</seg>

<seg>/etc/courier, /usr/lib/courier, /usr/share/courier and
/var/lib/courier</seg>

<seg>/etc/courier/</seg>

</seglistitem>
</segmentedlist>

<variablelist>
<bridgehead renderas="sect3">Short Descriptions</bridgehead>
<?dbfo list-presentation="list"?>

<varlistentry id="cancelmsg">
<term><command>cancelmsg</command></term>
<listitem><para>removes a message from the mail queue.</para>
<indexterm zone="courier-package cancelmsg">
<primary sortas="b-cancelmsg">cancelmsg</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="courier">
<term><command>courier</command></term>
<listitem><para>administrative command used to control the courier
scheduling engine.</para>
<indexterm zone="courier-package courier">
<primary sortas="b-courier">courier</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="courierfax">
<term><command>courierfax</command></term>
<listitem><para>sends email messages by fax.</para>
<indexterm zone="courier-package courierfax">
<primary sortas="b-courierfax">courierfax</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="courierfilter">
<term><command>courierfilter</command></term>
<listitem><para>starts and stops all mail filters installed by
<command>filterctl</command>.</para>
<indexterm zone="courier-package courierfilter">
<primary sortas="b-courierfilter">courierfilter</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="courierldapaliasd">
<term><command>courierldapaliasd</command></term>
<listitem><para>supports mail address aliasing using an LDAP directory.</para>
<indexterm zone="courier-package courierldapaliasd">
<primary sortas="b-courierldapaliasd">courierldapaliasd</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="courierlogger">
<term><command>courierlogger</command></term>
<listitem><para>captures error messages from other
<application>courier</application> applications and forwards them to
the system logger.</para>
<indexterm zone="courier-package courierlogger">
<primary sortas="b-courierlogger">courierlogger</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="couriermlm">
<term><command>couriermlm</command></term>
<listitem><para>sets up, maintains, and manages mailing lists.</para>
<indexterm zone="courier-package couriermlm">
<primary sortas="b-couriermlm">couriermlm</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="courierperlfilter">
<term><command>courierperlfilter</command></term>
<listitem><para>a sample filter written in perl.</para>
<indexterm zone="courier-package courierperlfilter">
<primary sortas="b-courierperlfilter">courierperlfilter</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="courierpop3d">
<term><command>courierpop3d</command></term>
<listitem><para>courier pop3 server.</para>
<indexterm zone="courier-package courierpop3d">
<primary sortas="b-courierpop3d">courierpop3d</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="courierpop3login">
<term><command>courierpop3login</command></term>
<listitem><para>reads the POP3 userid and password and passes them to the
authentication modules.</para>
<indexterm zone="courier-package courierpop3login">
<primary sortas="b-courierpop3login">courierpop3login</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="couriertcpd">
<term><command>couriertcpd</command></term>
<listitem><para>accepts incoming network connections, and runs other
courier programs after establishing each network connection.</para>
<indexterm zone="courier-package couriertcpd">
<primary sortas="b-couriertcpd">couriertcpd</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="couriertls">
<term><command>couriertls</command></term>
<listitem><para>used by applications to encrypt a network connection
using SSL/TLS</para>
<indexterm zone="courier-package couriertls">
<primary sortas="b-couriertls">couriertls</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="dotforward">
<term><command>dotforward</command></term>
<listitem><para>a compatibility module that reads forwarding
instructions in $HOME/.forward.</para>
<indexterm zone="courier-package dotforward">
<primary sortas="b-dotforward">dotforward</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="dupfilter">
<term><command>dupfilter</command></term>
<listitem><para>a threaded filter that tries to block junk E-mail by
attempting to detect multiple copies of the same message, which are
rejected.</para>
<indexterm zone="courier-package dupfilter">
<primary sortas="b-dupfilter">dupfilter</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="esmtpd">
<term><command>esmtpd</command></term>
<listitem><para>a control script for courieresmtpd.</para>
<indexterm zone="courier-package esmtpd">
<primary sortas="b-esmtpd">esmtpd</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="esmtpd-msa">
<term><command>esmtpd-msa</command></term>
<listitem><para>a control script for courieresmtpd, but adds message
submission port 587 for the <acronym>MSA</acronym> protocol.</para>
<indexterm zone="courier-package esmtpd-msa">
<primary sortas="b-esmtpd-msa">esmtpd-msa</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="filterctl">
<term><command>filterctl</command></term>
<listitem><para>installs or uninstalls global mail filters.</para>
<indexterm zone="courier-package filterctl">
<primary sortas="b-filterctl">filterctl</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="imapd">
<term><command>imapd</command></term>
<listitem><para>the Courier-IMAP server.</para>
<indexterm zone="courier-package imapd">
<primary sortas="b-imapd">imapd</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="lockmail">
<term><command>lockmail</command></term>
<listitem><para>a helper utility for locking  mailbox files.</para>
<indexterm zone="courier-package lockmail">
<primary sortas="b-lockmail">lockmail</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="mailbot">
<term><command>mailbot</command></term>
<listitem><para>a <acronym>MIME</acronym>-aware autoresponder utility.</para>
<indexterm zone="courier-package mailbot">
<primary sortas="b-mailbot">mailbot</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="maildiracl">
<term><command>maildiracl</command></term>
<listitem><para>manages access control lists.</para>
<indexterm zone="courier-package maildiracl">
<primary sortas="b-maildiracl">maildiracl</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="maildirkw">
<term><command>maildirkw</command></term>
<listitem><para>modifies Courier-IMAP compatible maildir message
keywords.</para>
<indexterm zone="courier-package maildirkw">
<primary sortas="b-maildirkw">maildirkw</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="maildirmake">
<term><command>maildirmake</command></term>
<listitem><para>creates maildirs, and maildir folders.</para>
<indexterm zone="courier-package maildirmake">
<primary sortas="b-maildirmake">maildirmake</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="maildrop">
<term><command>maildrop</command></term>
<listitem><para>a replacement local mail delivery agent that includes a
mail filtering language.</para>
<indexterm zone="courier-package maildrop">
<primary sortas="b-maildrop">maildrop</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="mailq-courier">
<term><command>mailq</command></term>
<listitem><para>displays a list of all messages that have not been
delivered yet.</para>
<indexterm zone="courier-package mailq-courier">
<primary sortas="b-mailq">mailq</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="makeacceptmailfor">
<term><command>makeacceptmailfor</command></term>
<listitem><para>builds a list of domains to accept mail for, from the
<filename class="directory">/etc/courier/esmtpacceptmailfor.dir</filename> 
directory.</para>
<indexterm zone="courier-package makeacceptmailfor">
<primary sortas="b-makeacceptmailfor">makeacceptmailfor</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="makealiases">
<term><command>makealiases</command></term>
<listitem><para>builds an alias database from one or more plain text
source files.</para>
<indexterm zone="courier-package makealiases">
<primary sortas="b-makealiases">makealiases</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="makedat">
<term><command>makedat</command></term>
<listitem><para>a utility to create GDBM or DB files from plain text
files.</para>
<indexterm zone="courier-package makedat">
<primary sortas="b-makedat">makedat</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="makehosteddomains">
<term><command>makehosteddomains</command></term>
<listitem><para>rebuilds the contents of the hosteddomains database from the 
contents of <filename>/tools/etc/courier/hosteddomains</filename>.</para>
<indexterm zone="courier-package makehosteddomains">
<primary sortas="b-makehosteddomains">makehosteddomains</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="makemime">
<term><command>makemime</command></term>
<listitem><para>creates <acronym>MIME</acronym>-formatted messages from one 
or more files.</para>
<indexterm zone="courier-package makemime">
<primary sortas="b-makemime">makemime</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="makepercentrelay">
<term><command>makepercentrelay</command></term>
<listitem><para>builds a list of %-relayed domains from the 
<filename class="directory">percentrelay.dir</filename> directory.</para>
<indexterm zone="courier-package makepercentrelay">
<primary sortas="b-makepercentrelay">makepercentrelay</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="makesmtpaccess">
<term><command>makesmtpaccess</command></term>
<listitem><para>builds <acronym>ESMTP</acronym> server access file from the 
<filename class="directory">/etc/courier/smtpaccess</filename> 
directory.</para>
<indexterm zone="courier-package makesmtpaccess">
<primary sortas="b-makesmtpaccess">makesmtpaccess</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="makesmtpaccess-msa">
<term><command>makesmtpaccess-msa</command></term>
<listitem><para>builds <acronym>ESMTP</acronym> server access file from the 
<filename class="directory">/etc/courier/smtpaccess</filename> directory. 
This esmtp list is for the <acronym>MSA</acronym> protocol.</para>
<indexterm zone="courier-package makesmtpaccess-msa">
<primary sortas="b-makesmtpaccess-msa">makesmtpaccess-msa</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="makeuserdb">
<term><command>makeuserdb</command></term>
<listitem><para>builds user/password db from the contents
of <filename class="directory">/tools/etc/courier/userdb</filename>.</para>
<indexterm zone="courier-package makeuserdb">
<primary sortas="b-makeuserdb">makeuserdb</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="mimegpg">
<term><command>mimegpg</command></term>
<listitem><para>signs, encrypts, or decrypts <acronym>MIME</acronym>-formatted 
email messages using <application>GnuPG</application>.</para>
<indexterm zone="courier-package mimegpg">
<primary sortas="b-mimegpg">mimegpg</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="mkesmtpdcert">
<term><command>mkesmtpdcert</command></term>
<listitem><para>creates a secure <acronym>SMTP</acronym> test 
certificate.</para>
<indexterm zone="courier-package mkesmtpdcert">
<primary sortas="b-mkesmtpdcert">mkesmtpdcert</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="mkimapdcert">
<term><command>mkimapdcert</command></term>
<listitem><para>creates a secure <acronym>IMAP</acronym> test
certificate.</para>
<indexterm zone="courier-package mkimapdcert">
<primary sortas="b-mkimapdcert">mkimapdcert</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="mkpop3dcert">
<term><command>mkpop3dcert</command></term>
<listitem><para>creates a secure <acronym>POP3</acronym> test
certificate.</para>
<indexterm zone="courier-package mkpop3dcert">
<primary sortas="b-mkpop3dcert">mkpop3dcert</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="pop3d">
<term><command>pop3d</command></term>
<listitem><para>a wrapper script for <command>couriertcpd</command> to
start and stop the <acronym>POP3</acronym> service.</para>
<indexterm zone="courier-package pop3d">
<primary sortas="b-pop3d">pop3d</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="pop3d-ssl">
<term><command>pop3d-ssl</command></term>
<listitem><para>a wrapper script for <command>couriertcpd</command> to
start and stop the <acronym>POP3</acronym> over <acronym>SSL</acronym> 
service.</para>
<indexterm zone="courier-package pop3d-ssl">
<primary sortas="b-pop3d-ssl">pop3d-ssl</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="preline">
<term><command>preline</command></term>
<listitem><para>prepends legacy mbox headers to mail messages.</para>
<indexterm zone="courier-package preline">
<primary sortas="b-preline">preline</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="reformail">
<term><command>reformail</command></term>
<listitem><para>reads a message on standard input, reformats it in some
way, and writes the message to standard output.</para>
<indexterm zone="courier-package reformail">
<primary sortas="b-reformail">reformail</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="reformime">
<term><command>reformime</command></term>
<listitem><para>a utility for reformatting MIME messages.</para>
<indexterm zone="courier-package reformime">
<primary sortas="b-reformime">reformime</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="sendmail-courier">
<term><command>sendmail</command></term>
<listitem><para>reads an email message and delivers the message to it's
recipients.</para>
<indexterm zone="courier-package sendmail-courier">
<primary sortas="b-sendmail">sendmail</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="submit">
<term><command>submit</command></term>
<listitem><para>submits messages to <application>Courier</application>for 
processing.</para>
<indexterm zone="courier-package submit">
<primary sortas="b-submit">submit</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="testmxlookup">
<term><command>testmxlookup</command></term>
<listitem><para>lists the names and <acronym>IP</acronym> addresses of mail 
relays that receive mail for the domain.</para>
<indexterm zone="courier-package testmxlookup">
<primary sortas="b-testmxlookup">testmxlookup</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="userdb">
<term><command>userdb</command></term>
<listitem><para>a script to individually manipulate entries in
<filename>/tools/etc/courier/userdb.</filename></para>
<indexterm zone="courier-package userdb">
<primary sortas="b-userdb">userdb</primary></indexterm>
</listitem>
</varlistentry>

<varlistentry id="userdbpw">
<term><command>userdbpw</command></term>
<listitem><para>reads a single line of text on standard input, encrypts
it, and prints the encrypted result to standard output.</para>
<indexterm zone="courier-package userdbpw">
<primary sortas="b-userdbpw">userdbpw</primary></indexterm>
</listitem>
</varlistentry>
</variablelist>

</sect2>

</sect1>

