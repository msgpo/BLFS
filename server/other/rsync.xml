<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
   "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

<!ENTITY rsync-download-http "http://rsync.samba.org/ftp/rsync/rsync-&rsync-version;.tar.gz">
<!ENTITY rsync-download-ftp "ftp://gd.tuwien.ac.at/utils/admin-tools/rsync/rsync-&rsync-version;.tar.gz">
<!ENTITY rsyncd-size "504 KB">
<!ENTITY rsync-buildsize "6.5 MB">
<!ENTITY rsyncd-time "0.20 SBU">

]>

<sect1 id="rsync" xreflabel="rsync-&rsync-version;">
<sect1info>
<othername>$LastChangedBy$</othername>
<date>$Date$</date>
</sect1info>
<?dbhtml filename="rsync.html"?>
<title>rsync-&rsync-version;</title>

<sect2>
<title>Introduction to <application>rsync</application></title>

<para>The <application>rsync</application> package contains the
<command>rsync</command> utility. This is useful for synchronizing large file 
archives over a network.</para>

<sect3><title>Package information</title>
<itemizedlist spacing='compact'>
<listitem><para>Download (HTTP): <ulink url="&rsync-download-http;"/></para></listitem>
<listitem><para>Download (FTP): <ulink url="&rsync-download-ftp;"/></para></listitem>
<listitem><para>Download size: &rsyncd-size;</para></listitem>
<listitem><para>Estimated Disk space required: &rsync-buildsize;</para></listitem>
<listitem><para>Estimated build time: &rsyncd-time;</para></listitem></itemizedlist>
</sect3>

<sect3><title><application>rsync</application> dependencies</title>
<sect4><title>Optional</title>
<para>
<xref linkend="popt"/>
</para></sect4>
</sect3>

</sect2>

<sect2>
<title>Installation of <application>rsync</application></title>

<para>For security reasons, running the <application>rsync</application> server as 
an unprivileged user and group is encouraged.  Create the rsyncd user
and group with the following commands:</para>

<screen><userinput><command>groupadd rsyncd &amp;&amp;
useradd -c rsyncd -d /home/rsync -g rsyncd -s /bin/false rsyncd</command>
</userinput></screen>

<para>Install <application>rsync</application> by running the following
commands:</para>

<screen><userinput><command>./configure --prefix=/usr &amp;&amp;
make &amp;&amp;
make install </command></userinput></screen>

</sect2>

<sect2>
<title>Configuring <application>rsync</application></title>

<sect3><title>Config files</title>
<para><filename>/etc/rsyncd.conf</filename></para>
</sect3>

<sect3><title>Configuration Information</title>

<para>This is a simple download-only configuration. See the rsyncd man-page for
additional options (i.e., user authentication).</para>

<screen><userinput><command>cat &gt; /etc/rsyncd.conf &lt;&lt; "EOF"</command>
# This is a basic rsync configuration file
# It exports a single module without user authentication.

motd file = /home/rsync/welcome.msg
use chroot = yes

[localhost]
    path = /home/rsync
    comment = Default rsync module
    read only = yes
    list = yes
    uid = rsyncd
    gid = rsyncd

<command>EOF</command></userinput></screen>
</sect3>

<sect3><title>rsyncd init.d script</title>

<para>Note that you only want to start the <application>rsync</application> 
server if you want to provide a <application>rsync</application> archive on 
your machine. The <application>rsync</application> client doesn't need this 
script to be used.</para>

<para>Install the <filename>/etc/rc.d/init.d/rsyncd</filename>
init script included in the <xref linkend="intro-important-bootscripts"/> package.</para>
                                                                                                                
<screen><userinput><command>make install-rsyncd</command></userinput></screen>

</sect3>

</sect2>

<sect2>
<title>Contents</title>

<para>The <application>rsync</application> package contains <command>rsync</command>.</para>

</sect2>

<sect2><title>Description</title>

<sect3><title>rsync</title>
<para><application>rsync</application> is a replacement for <command>rcp
</command> (and <command>scp</command>) that has many more features. It
uses the "rsync algorithm" which provides a very fast method of syncing remote
files. It does this by sending just the differences in the files across the
link, without requiring that both sets of files are present at one end
of the link beforehand.</para></sect3>

</sect2>

</sect1>

