<sect2>
<title>Command explanations</title>

<para>The first thing to understand in installing any package written 
by Daniel J. Bernstein, and 
this includes qmail, djbdns and ucspi-tcp in addition to daemontools, is 
that he is willing to completely disregard standards if his idea of the 
correct thing to do differs from an particular standard. Professor 
Bernstein is a standards body unto himself when it comes to his own 
software. </para>

<para>It is therefore necessary to make quite a few changes to the 
installation commands for his packages to get them to install in a manner 
that is compliant with the Filesystem Hierarchy Standard (FHS). Most of 
the following commands are due to this difficulty.</para>

<para><userinput>cd admin/daemontools-0.76</userinput> : First off, the 
package is unpacked in an <filename>admin</filename> directory. You will find the actual 
packages two directory levels below this.</para>

<para><userinput>package/compile</userinput> : This command actually 
compiles the source and puts the binaries in a command directory.</para>

<para>Since we are installing the binaries in
<filename>/usr/sbin</filename> rather than creating 
a non-standard /command directory, several paths have to be changed:</para>
<para><screen><userinput>sed 's|command|usr/sbin|' boot.inittab &gt; boot.inittab~</userinput>
<userinput>mv boot.inittab~ boot.inittab</userinput></screen></para>
<para>In <filename>boot.inittab</filename>,
<filename>/command/svscanboot</filename> is changed to
<filename>/usr/sbin/svscanboot</filename>.</para>

<para><screen><userinput>sed -e 's|/command:/usr/local/bin:/usr/local/sbin:||' \</userinput>
<userinput>    -e 's|command|usr/sbin|' \</userinput>
<userinput>    -e 's|/service|/etc/service|g' svscanboot &gt; svscanboot~ &amp;&amp;</userinput></screen></para>
<para>Here various paths are adjusted in the svscanboot script. In our setup svscan 
will check the <filename>/etc/service</filename> directory instead of
the <filename>/service</filename> directory for 
daemons to run.</para>

<para><userinput>cp * /usr/sbin</userinput> : We must manually copy the 
binaries to the <filename>/usr/sbin</filename> directory.</para>

<para><screen><userinput>cat /etc/inittab boot.inittab &gt; /etc/inittab~</userinput>
<userinput>mv -f /etc/inittab~ /etc/inittab</userinput></screen>
These commands append a line to <filename>/etc/inittab</filename> so that init will launch 
the svscanboot script.</para>

<para><userinput>mkdir /etc/service</userinput> : This command creates 
the daemontools control directory, which - even if empty - needs to exist for 
daemontools to run properly.</para>

<para><userinput>telinit Q</userinput> : This command tells the init 
process to re-read its configuration file (inittab) and act upon any 
changes that have been made. The svscanboot script is started.</para>


</sect2>

