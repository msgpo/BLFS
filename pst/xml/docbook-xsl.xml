<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
   "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY docbook-xsl-download-http "http://prdownloads.sourceforge.net/docbook/docbook-xsl-&docbook-xsl-version;.tar.bz2">
  <!ENTITY docbook-xsl-download-ftp  " ">
  <!ENTITY docbook-xsl-md5sum        "f4985efbc0f3411af8106928f8752fc5">
  <!ENTITY docbook-xsl-size          "967 KB">
  <!ENTITY docbook-xsl-buildsize     "26.4 MB">
  <!ENTITY docbook-xsl-time          "0.01 SBU">
]>

<sect1 id="docbook-xsl"
xreflabel="DocBook XSL Stylesheets-&docbook-xsl-version;">
  <?dbhtml filename="docbook-xsl.html"?>

  <sect1info>
    <othername>$LastChangedBy$</othername>
    <date>$Date$</date>
  </sect1info>

  <title>DocBook XSL Stylesheets-&docbook-xsl-version;</title>

  <indexterm zone="docbook-xsl">
    <primary sortas="a-DocBook-XSL-Stylesheets">DocBook XSL
    Stylesheets</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introduction to DocBook XSL Stylesheets</title>

    <para>The <application>DocBook XSL Stylesheets</application>
    package contains XSL stylesheets. These are useful for
    performing transformations on XML DocBook files.</para>

    <bridgehead renderas="sect3">Package Information</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>Download (HTTP): <ulink url="&docbook-xsl-download-http;"/></para>
      </listitem>
      <listitem>
        <para>Download (FTP): <ulink url="&docbook-xsl-download-ftp;"/></para>
      </listitem>
      <listitem>
        <para>Download MD5 sum: &docbook-xsl-md5sum;</para>
      </listitem>
      <listitem>
        <para>Download size: &docbook-xsl-size;</para>
      </listitem>
      <listitem>
        <para>Estimated disk space required: &docbook-xsl-buildsize;</para>
      </listitem>
      <listitem>
        <para>Estimated build time: &docbook-xsl-time;</para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">DocBook XSL Stylesheets Dependencies</bridgehead>

    <bridgehead renderas="sect4">Required</bridgehead>
    <para><xref linkend="libxslt"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of DocBook XSL Stylesheets</title>

    <para>Install <application>DocBook XSL Stylesheets</application>
    by running the following commands as the <systemitem
    class="username">root</systemitem> user:</para>

<screen role="root"><userinput>install -v -d -m755 /usr/share/xml/docbook/xsl-stylesheets-&docbook-xsl-version; &amp;&amp;
install -v -d -m755 /etc/xml &amp;&amp;
chown -R root:root . &amp;&amp;
cp -v -af INSTALL VERSION common eclipse extensions fo html htmlhelp \
    images javahelp lib manpages params profiling template xhtml \
    /usr/share/xml/docbook/xsl-stylesheets-&docbook-xsl-version; &amp;&amp;
install -v -d -m755 /usr/share/doc/xml &amp;&amp;
cp -v -af doc/* /usr/share/doc/xml &amp;&amp;
cd /usr/share/xml/docbook/xsl-stylesheets-&docbook-xsl-version; &amp;&amp;
sh INSTALL</userinput></screen>

    <para>Create (or append to) and populate the XML catalog files using the
    following commands as the <systemitem class="username">root</systemitem>
    user:</para>

<screen role="root"><userinput>if [ ! -f /etc/xml/catalog ]; then
    xmlcatalog --noout --create /etc/xml/catalog
fi &amp;&amp;
if [ ! -f /etc/xml/docbook ]; then
    xmlcatalog --noout --create /etc/xml/docbook
fi &amp;&amp;
xmlcatalog --noout --add "rewriteSystem" \
    "http://docbook.sourceforge.net/release/xsl/&docbook-xsl-version;" \
    "/usr/share/xml/docbook/xsl-stylesheets-&docbook-xsl-version;" \
    /etc/xml/catalog &amp;&amp;
xmlcatalog --noout --add "rewriteURI" \
    "http://docbook.sourceforge.net/release/xsl/&docbook-xsl-version;" \
    "/usr/share/xml/docbook/xsl-stylesheets-&docbook-xsl-version;" \
    /etc/xml/catalog &amp;&amp;
xmlcatalog --noout --add "rewriteSystem" \
    "http://docbook.sourceforge.net/release/xsl/current" \
    "/usr/share/xml/docbook/xsl-stylesheets-&docbook-xsl-version;" \
    /etc/xml/catalog &amp;&amp;
xmlcatalog --noout --add "rewriteURI" \
    "http://docbook.sourceforge.net/release/xsl/current" \
    "/usr/share/xml/docbook/xsl-stylesheets-&docbook-xsl-version;" \
    /etc/xml/catalog &amp;&amp;
xmlcatalog --noout --add "delegateSystem" \
    "http://docbook.sourceforge.net/release/xsl/" \
    "file:///etc/xml/docbook" \
    /etc/xml/catalog &amp;&amp;
xmlcatalog --noout --add "delegateURI" \
    "http://docbook.sourceforge.net/release/xsl/" \
    "file:///etc/xml/docbook" \
    /etc/xml/catalog</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Command Explanations</title>

    <para><command>sh INSTALL</command>: This command creates a local
    catalog for the XSL files.</para>

  </sect2>

  <sect2 role="configuration">
    <title>Configuring DocBook XSL Stylesheets</title>

    <sect3 id="docbook-xsl-config">
      <title>Config Files</title>

      <para><filename>/etc/xml/catalog</filename></para>

      <indexterm zone="docbook-xsl docbook-xsl-config">
        <primary sortas="e-etc-xml-catalog">/etc/xml/catalog</primary>
      </indexterm>

    </sect3>

    <sect3>
      <title>Configuration Information</title>

      <para>The system profile needs to be updated to utilize the new
      installed catalog. This can be done with the following command:</para>

<screen role="root"><userinput>cat &gt; /etc/profile.d/xsl.sh &lt;&lt; "EOF"
<literal># Set up Environment Variable for XSL Processing
export XML_CATALOG_FILES="/usr/share/xml/docbook/\
xsl-stylesheets-&docbook-xsl-version;/catalog.xml /etc/xml/catalog"</literal>
EOF</userinput></screen>

      <para>The above installation script creates the files and updates the
      catalog with the current version of the XML stylesheets. Some project
      stylesheets reference specific versions of XSL stylesheets, like BLFS-6.0,
      which needs the 1.67.2 version. The following commands can serve as an
      example for using a single XSL version to support any hard coded
      versions, as needed. Use the following as an example to use the current
      version of the stylesheets for the 1.67.2 version. Edit or add to the
      commands to suit your particular needs. Issue the commands as the
      <systemitem class="username">root</systemitem> user:</para>

<screen role="root"><userinput>xmlcatalog --noout --add "rewriteSystem" \
    "http://docbook.sourceforge.net/release/xsl/1.67.2" \
    "/usr/share/xml/docbook/xsl-stylesheets-&docbook-xsl-version;" \
    /etc/xml/catalog &amp;&amp;
xmlcatalog --noout --add "rewriteURI" \
    "http://docbook.sourceforge.net/release/xsl/1.67.2" \
    "/usr/share/xml/docbook/xsl-stylesheets-&docbook-xsl-version;" \
    /etc/xml/catalog</userinput></screen>

      <para>Alternatively, other versions can be installed in their own
      versioned directories and catalog entries made in the following
      form:</para>

<screen role="root"><userinput>xmlcatalog --noout --add "rewriteSystem" \
    "http://docbook.sourceforge.net/release/xsl/<replaceable>[version]</replaceable>" \
    "/usr/share/xml/docbook/xsl-stylesheets-<replaceable>[version]</replaceable>" \
    /etc/xml/catalog &amp;&amp;
xmlcatalog --noout --add "rewriteURI" \
    "http://docbook.sourceforge.net/release/xsl/<replaceable>[version]</replaceable>" \
    "/usr/share/xml/docbook/xsl-stylesheets-<replaceable>[version]</replaceable>" \
    /etc/xml/catalog</userinput></screen>

<!--
The following is very specific to LFS 6.0, the first sentence for
make and the remainder for 'make pdf', If it stays, it needs to be removed
after BLFS 6.0

<para>For LFS 6.0, version 1.65.1 of this package should be
installed.  In addition, you need to make a symbolic link as described in the
<filename>INSTALL</filename> file of LFS 6.0.</para>
<screen><userinput><command>cd /usr/share/xml/docbook/ &amp;&amp;
ln -s xsl-stylesheets-1.65.1 xsl-stylesheets-current</command></userinput></screen>
 -->

    </sect3>

  </sect2>

  <sect2 role="content">
    <title>Contents</title>

    <segmentedlist>
      <segtitle>Installed Programs</segtitle>
      <segtitle>Installed Libraries</segtitle>
      <segtitle>Installed Files</segtitle>
      <segtitle>Installed Directories</segtitle>

      <seglistitem>
        <seg>None</seg>
        <seg>None</seg>
        <seg>XSL style sheets for HTML and FO</seg>
        <seg>/usr/share/xml/docbook/xsl-stylesheets-&docbook-xsl-version; and
        /usr/share/doc/xml</seg>
      </seglistitem>
    </segmentedlist>

  </sect2>

</sect1>
