<sect2>
<title>Installation of <application>Mozilla</application></title>

<para>Install <application>Mozilla</application> by running the following 
commands:</para>

<screen><userinput><command>export MOZILLA_OFFICIAL="1" &amp;&amp;
export BUILD_OFFICIAL="1" &amp;&amp;
<!--
export MOZ_INTERNAL_LIBART_LGPL="1" &amp;&amp;
cd extensions &amp;&amp;
rm -rf spellcheck &amp;&amp;
tar -xjf ../../mozilla-&mozilla-version;-spellchecker.tar.bz2 &amp;&amp;
cd .. &amp;&amp;
-->
for p in ../mozilla-&mozilla-version;-*.patch
do patch -Np1 -i $p
done</command></userinput></screen>

<para>According to the financial institutions, the following hack makes your
browser insecure. You have been warned. Many sites use an MS-IE specific tag 
(autocomplete=off) to prevent autocomplete from working in some forms. This 
tag is now supported in <application>Mozilla</application> to appease the financial institutions. As per 
the requirements of the financial institutions, they will not even accept a 
solution where this a preference option. However our opinion is that it should 
be in the hands of the user. To enable autocomplete to bypass
this restriction, we need to make a slight modification in the code.</para>

<para>Open the file <filename>extensions/wallet/src/wallet.cpp</filename> in
the <application>Mozilla</application> source tree and search for the line:
<screen>#define WALLET_DONT_CACHE_ALL_PASSWORDS</screen>
Then delete or comment out the line.  Now, if anyone tells you MS-IE is user
friendly, give them this example!</para>

<screen><userinput><command>./configure --prefix=&mozilla-prefix; \
            --enable-default-mozilla-five-home \
            --enable-toolkit-gtk2 --enable-default-toolkit=gtk2 \
            --with-x --with-system-zlib \
            --with-system-jpeg --with-system-png --with-system-mng \
            --enable-xft --enable-crypto \
            --enable-java-supplement \
            --disable-accessibility \
            --disable-tests --disable-debug \
            --disable-logging --enable-reorder \
            --enable-strip \
            --enable-cpp-rtti --enable-extensions=all &amp;&amp;
make &amp;&amp;
make install &amp;&amp;
install -d &mozilla-prefix;/include/mozilla-&mozilla-version;/nss &amp;&amp;
cp -Lf dist/private/nss/*.h dist/public/nss/*.h \
   &mozilla-prefix;/include/mozilla-&mozilla-version;/nss &amp;&amp;
<!--
install -d &mozilla-prefix;/lib/mozilla-&mozilla-version;/openoffice &amp;&amp;
cp -f dist/lib/libembed_base_s.a dist/lib/liblber50.a \
   dist/lib/libmozreg_s.a &mozilla-prefix;/lib/mozilla-&mozilla-version;/openoffice &amp;&amp;
-->
ln -nsf mozilla-&mozilla-version; &mozilla-prefix;/include/mozilla &amp;&amp;
ln -nsf mozilla-&mozilla-version; &mozilla-prefix;/lib/mozilla &amp;&amp;
cd &mozilla-prefix;/lib/mozilla-&mozilla-version; &amp;&amp;
export LD_LIBRARY_PATH="&mozilla-prefix;/lib/mozilla-&mozilla-version;" &amp;&amp;
export MOZILLA_FIVE_HOME="&mozilla-prefix;/lib/mozilla-&mozilla-version;" &amp;&amp;
./regxpcom &amp;&amp;
./regchrome &amp;&amp;
touch `find &mozilla-prefix;/lib/mozilla-&mozilla-version; -name *.rdf`</command></userinput></screen>

</sect2>

<sect2>
<title>Optional Extra Switches</title>

<para>Each of these switches can be added to the configure line in order to
have the described effect on the mozilla compile.</para>

<para><command>--enable-elf-dynstr-gc</command> : Removes unreferenced
strings from <acronym>ELF</acronym> shared objects generated during the build. 
Note that this option breaks build on alpha.</para>

<para><command>--disable-mailnews</command> : Disable the mail and news
clients.</para>

<para><command>--disable-ldap</command> : Disable <acronym>LDAP</acronym> 
Support, recommended if mail is disabled.</para>

<para><command>--enable-calendar</command> : Build the calendar client.
You will need to download the calendar source via cvs since it is not included
with the release source.
(Warning, this option is not yet stable).</para>

<para><command>--enable-xterm-updates</command> : This option is
for enabling the <command>xterm</command> title with the current command when 
compiling.</para>

<para><command>--enable-plaintext-editor-only</command> : Disable support
for <acronym>HTML</acronym> editing. Do not use this switch if you are building 
the mail-news component.</para>

</sect2>

<sect2>
<title>Additional build notes for <application>Mozilla Firebird</application> &firebird-version;</title>

<para>Add the following env variable (The variable is named Phoenix since
that was the original name for the Mozilla Firebird project):</para>

<screen><userinput><command>export MOZILLA_PHOENIX="1"</command></userinput></screen>

<para>Make sure that the following switches are passed to
<command>./configure</command>: <command>--disable-calendar</command> and
<command>--disable-mailnews</command>.</para>

<para>We recommend installing in a seperate prefix 
such as <command>--prefix=/opt/firebird-&firebird-version;</command>
to prevent clashes with
an installed <application>Mozilla</application>.</para>

<para>The <application>Mozilla Firebird</application> executable is
<command>MozillaFirebird</command>.</para>

</sect2>

<sect2>
<title>Additional build notes for <application>Mozilla Thunderbird</application> &thunderbird-version;</title>

<para>Add the following env variable:</para>

<screen><userinput><command>export MOZ_THUNDERBIRD="1"</command></userinput></screen>

<para>Make sure that the following switche is passed to
<command>./configure</command>: <command>--disable-calendar</command>.</para>

<para>We recommend installing in a seperate prefix 
such as <command>--prefix=/opt/thunderbird-&thunderbird-version;</command>
to prevent clashes with
an installed <application>Mozilla</application>.</para>

<para>The <application>Mozilla Thunderbird</application> executable is
<command>thunderbird</command>.</para>

</sect2>
