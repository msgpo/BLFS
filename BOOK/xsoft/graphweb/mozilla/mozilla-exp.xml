<sect2>
<title>Command explanations</title>

<para><screen><userinput>export MOZILLA_OFFICIAL="1" &amp;&amp;
export BUILD_OFFICIAL="1" &amp;&amp;
export MOZ_INTERNAL_LIBART_LGPL="1"</userinput></screen>
Set some variables that affect what and how it is built. The first two exports
specify that we are building a distribution. The last export specifies that we
are ok with the LGPL versioned libart.</para>

<para><userinput>--prefix=&mozilla-prefix;</userinput> : Previously mozilla did
not support the make install option. Hence the package was installed in /opt.
The package now supports "make install" and follows the FHS guidelines for
installation. Hence the book now recommends installation in a system wide prefix
such as /usr.</para>

<para><screen><userinput>--with-system-zlib --with-system-jpeg \
--with-system-png --with-system-mng"</userinput></screen>
Use the system versions for these packages.</para>

<para><userinput>--enable-xft</userinput> : Enable the Xft
support.</para>

<para><userinput>--enable-crypto</userinput> : Enable the Personal
Security Manager to enable SSL connections.</para>

<para><screen><userinput>--disable-jsd --disable-accessibility \
--disable-tests --disable-debug \
--enable-optimize=-O3 --disable-dtd-debug \
--disable-logging --enable-reorder \
--enable-strip --enable-elf-dynstr-gc \
--enable-cpp-rtti</userinput></screen>
Disable all debugging options and enable all optimization options. You can
pick and choose from these options.  More information on them can be found
in the mozilla configure script help.</para>

<para><userinput>--enable-extensions=...</userinput> : Enables
extensions.  If you want, you can disable all extensions other than the
browser by changing this switch to
<userinput>--enable-extensions="default,-venkman,-inspector,-irc"</userinput>.</para>

<para><userinput>--enable-svg</userinput> : Enable SVG (Scalable Vector
Graphics) support.</para>

<para><screen><userinput>install -d &mozilla-prefix;/include/mozilla-&mozilla-version;/security
cp -Lf dist/private/security/*.h dist/public/security/*.h \
   &mozilla-prefix;/include/mozilla-&mozilla-version;/security</userinput></screen>
Copy the nss headers that are not copied by make install.</para>

<para><userinput>install -d &mozilla-prefix;/lib/mozilla-&mozilla-version;/openoffice</userinput> :
Make a directory to store static libraries that openoffice needs during compilation.
These libraries are not installed by default.</para>

<para><userinput>ln -nsf mozilla-&mozilla-version; ...</userinput> :
Mozilla installs headers and libraries in version specific directories. This
link makes symbolic links so that applications that depend on Mozilla (such as
OpenOffice, Galeon, etc.) don't need to know which version of mozilla is
installed.
</para>

<para><userinput>ln -sf mozilla &mozilla-prefix;/bin/netscape</userinput> : Since 
many applications expect the browser to be named netscape, make a symbolic 
link for convenience.</para>

<para><screen><userinput>export LD_LIBRARY_PATH="&mozilla-prefix;/lib/mozilla-&mozilla-version;" &amp;&amp;
export MOZILLA_FIVE_HOME="&mozilla-prefix;/lib/mozilla-&mozilla-version;" &amp;&amp;
./regxpcom &amp;&amp;
./regchrome &amp;&amp;
touch `find &mozilla-prefix;/lib/mozilla-${VERSION} -name *.rdf`</userinput></screen>
Create the required component registries to enable multi-user installs.</para>

</sect2>
