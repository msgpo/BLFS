<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
   "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY mplayer-download-http "http://www1.mplayerhq.hu/MPlayer/releases/MPlayer-&mplayer-version;.tar.bz2">
  <!ENTITY mplayer-download-ftp  "ftp://ftp1.mplayerhq.hu/MPlayer/releases/MPlayer-&mplayer-version;.tar.bz2">
  <!ENTITY mplayer-size          "5.6 MB">
  <!ENTITY mplayer-buildsize     "82 MB (additional 22 MB for essential CODECs)">
  <!ENTITY mplayer-time          "2.18 SBU">
  <!ENTITY mplayer-default-codec "essential-20041107.tar.bz2">
  <!ENTITY mplayer-default-skin  "Blue-1.4.tar.bz2">
  <!ENTITY mplayer-default-font  "font-arial-iso-8859-1">
]>

<sect1 id="mplayer" xreflabel="MPlayer-&mplayer-version;">
<sect1info>
<othername>$LastChangedBy$</othername>
<date>$Date$</date>
</sect1info>
<?dbhtml filename="mplayer.html"?>
<title><application>MPlayer</application>-&mplayer-version;</title>

<sect2>
<title>Introduction to <application>MPlayer</application></title>

<para>The <application>MPlayer</application> package contains an audio/video 
player controlled via the command line or a graphical interface which is 
able to play almost every popular audio and video file format 
and <acronym>CODEC</acronym> (COder/DECoder, also COmpressor/DECompressor). 
With supported video hardware and additional drivers, 
<application>MPlayer</application> can play video files without an 
<application>X</application> window system installed.</para>

<para>For <application>MPlayer</application> general information and available 
features, including a full list of file formats, <acronym>CODEC</acronym>s and 
output devices supported by <application>MPlayer</application>, visit the 
<ulink url="http://www1.mplayerhq.hu/homepage/design7/info.html">
<application>MPlayer</application> web site</ulink>.</para>

<sect3><title>Package information</title>
<itemizedlist spacing='compact'>
<listitem><para>Download (HTTP): 
<ulink url="&mplayer-download-http;"/></para></listitem>
<listitem><para>Download (FTP): 
<ulink url="&mplayer-download-ftp;"/></para></listitem>
<listitem><para>Download size: &mplayer-size;</para></listitem>
<listitem><para>Estimated disk space required: 
&mplayer-buildsize;</para></listitem>
<listitem><para>Estimated build time: 
&mplayer-time;</para></listitem></itemizedlist>
</sect3>

<sect3><title>Additional downloads</title>
<para><emphasis>Patches</emphasis></para>
<itemizedlist spacing='compact'>
<listitem><para>Required Patch (for fbdev driver support): <ulink 
url="&patch-root;/MPlayer-&mplayer-version;-kernel_2.6-1.patch"/></para>
</listitem></itemizedlist>

<para><emphasis><acronym>CODEC</acronym>s</emphasis></para>
<itemizedlist spacing='compact'>
<listitem><para>Proprietary <acronym>CODEC</acronym>s: <ulink 
url="http://www.mplayerhq.hu/MPlayer/releases/codecs/&mplayer-default-codec;"/>
</para></listitem>
<listitem><para>Additional <acronym>CODEC</acronym>s: <ulink 
url="http://www.mplayerhq.hu/MPlayer/releases/codecs/"/></para>
</listitem></itemizedlist>

<para><emphasis>Skins</emphasis></para>
<itemizedlist spacing='compact'>
<listitem><para>Default <acronym>GUI</acronym> skin: <ulink 
url="http://www1.mplayerhq.hu/MPlayer/Skin/&mplayer-default-skin;"/></para>
</listitem>
<listitem><para>Additional skins: <ulink 
url="http://www1.mplayerhq.hu/MPlayer/Skin/"/></para>
</listitem></itemizedlist>

<para><emphasis>Fonts</emphasis></para>
<itemizedlist spacing='compact'>
<listitem><para>Prerendered fonts: <ulink 
url="http://www1.mplayerhq.hu/MPlayer/releases/fonts/&mplayer-default-font;.tar.bz2"/></para>
</listitem>
<listitem><para>Additional fonts: <ulink 
url="http://www1.mplayerhq.hu/MPlayer/releases/fonts/"/></para>
</listitem></itemizedlist>

<note><para>The <acronym>CODEC</acronym>s, skins and fonts are not required to 
build and use <application>MPlayer</application>.</para></note>
</sect3>

<sect3><title><application>MPlayer</application> dependencies</title>
<sect4><title>Optional input drivers and libraries</title>
<para><xref linkend="cdparanoia-package"/>, 
<xref linkend="libdv"/>, 
<xref linkend="libdvdread"/>, 
<xref linkend="samba3"/>, 
<ulink url="http://www.live.com/mplayer/">LIVE.COM Streaming Media</ulink>, 
<ulink url="http://www.matroska.org/downloads/linux.html">libmatroska</ulink> 
and <ulink url="http://www.metzlerbros.org/dvb/">DVB</ulink></para>
</sect4>

<sect4><title>Optional audio output drivers and libraries</title>
<para><xref linkend="alsa"/>, 
<xref linkend="arts"/>, 
<xref linkend="esound"/>, 
<xref linkend="nas"/>, 
<xref linkend="sdl"/> (also used for video output), 
<xref linkend="xmms-package"/>, 
<ulink url="http://0pointer.de/lennart/projects/polypaudio/">polypaudio</ulink>, 
<ulink url="http://bio2jack.sourceforge.net/">bio2jack</ulink> (requires 
<ulink url="http://jackit.sourceforge.net/">JACK</ulink>)</para>
</sect4>

<sect4><title>Optional video output drivers and libraries</title>
<para>X (<xref linkend="xfree86"/> or <xref linkend="xorg"/>), 
<xref linkend="libpng"/>, 
<xref linkend="libjpeg"/>, 
<xref linkend="libungif"/> or <xref linkend="giflib"/>, 
<xref linkend="GTK"/>, 
<xref linkend="freetype2"/>, 
<xref linkend="fontconfig"/>, 
<xref linkend="aalib"/>, 
<ulink url="http://www.directfb.org/">DirectFB</ulink>, 
<ulink url="http://www.svgalib.org/">SVGAlib</ulink>, 
<ulink url="http://www.ggi-project.org/">GGI</ulink>, 
<ulink url="http://sam.zoy.org/projects/libcaca/">libcaca</ulink>, 
<ulink url="http://www.ladspa.org/">LADSPA</ulink>, 
<ulink url="http://dxr2.sourceforge.net/">Dxr2</ulink>, 
<ulink url="http://dxr3.sourceforge.net/">libdxr3</ulink>, 
<ulink url="http://prdownloads.sourceforge.net/zapping/mp1e-1.9.3.tar.bz2">MP1E</ulink>, 
<ulink url="http://freedesktop.org/Software/FriBidi">FriBidi</ulink> and 
<ulink url="http://trific.ath.cx/software/enca/">Enca</ulink></para>
</sect4>

<sect4><title>Optional <acronym>CODEC</acronym>s</title>
<para><xref linkend="libvorbis"/>, 
<xref linkend="xvid"/>, 
<xref linkend="LZO"/>, 
<xref linkend="libmad"/>, 
<xref linkend="lame-package"/>, 
<xref linkend="libfame"/>, 
<ulink url="http://www.theora.org/">Theora</ulink>, 
<ulink url="http://www.xiph.org/ogg/vorbis/index.html">Tremor</ulink>, 
<ulink url="http://www.audiocoding.com/modules/mydownloads/">FAAD2</ulink>, 
<ulink url="http://www.divx.com/divx/linux/">DivX4Linux</ulink>, 
<ulink url="http://users.tpg.com.au/adslblvi/#tooLAME">tooLAME</ulink>, 
<ulink url="http://www.dolda2000.cjb.net/~fredrik/lirccd/">lirccd</ulink> 
and <ulink url="http://www.lirc.org/">LIRC</ulink></para>
</sect4>
</sect3>

</sect2>

<sect2>
<title>Installation of <application>MPlayer</application></title>

<sect3>
<title><acronym>CODEC</acronym> installation (optional)</title>

<para>If you downloaded any proprietary <acronym>CODEC</acronym>s 
(which can provide support for additional audio and video formats such as 
Real, Indeo and QuickTime), extract them to 
<filename class="directory">/usr/lib/mplayer/codecs</filename> 
using the following commands (substitute and/or add different 
<acronym>CODEC</acronym> filenames, if necessary):</para>

<screen><userinput><command>install -d -m755 /usr/lib/mplayer/codecs &amp;&amp;
tar -jxf ../&mplayer-default-codec; \
    -C /usr/lib/mplayer/codecs --strip-path=1 &amp;&amp;
chown -R root:root /usr/lib/mplayer/codecs</command></userinput></screen>

<para>If you installed any <acronym>CODEC</acronym>s, ensure you add 
<option>--with-codecsdir=/usr/lib/mplayer/codecs</option> 
to the <command>configure</command> script.</para>
</sect3>

<sect3>
<title><acronym>GUI</acronym> installation (optional)</title>

<para>To enable building the <acronym>GUI</acronym> version of
<application>MPlayer</application> (requires <xref linkend="GTK"/>), add 
<option>--enable-gui</option> to the <command>configure</command> 
script. You'll also need to extract at least one skin. Extract the desired 
skin and create the default location:</para>

<screen><userinput><command>install -v -d -m755 /usr/share/mplayer/Skin &amp;&amp;
tar -jxf ../&mplayer-default-skin; \
    -C /usr/share/mplayer/Skin &amp;&amp;
chown -v -R root:root /usr/share/mplayer/Skin/Blue &amp;&amp;
chmod -v 0755 /usr/share/mplayer/Skin/Blue{,/icons} &amp;&amp;
ln -sfv Blue /usr/share/mplayer/Skin/default</command></userinput></screen>
</sect3>

<sect3>
<title>Installing <acronym>OSD</acronym> and subtitles support 
(optional)</title>

<para>To enable <acronym>OSD</acronym> (On Screen Display) and subtitles 
support, add <option>--enable-menu</option> to the 
<command>configure</command> script. You'll also need to set up at least one 
font (see font installation instructions a little later).</para>
</sect3>

<sect3>
<title>Main <application>MPlayer</application> installation</title>

<note><para>The package maintainers recommend building without any
optimizations.</para></note>

<para>Install <application>MPlayer</application> by running the following 
commands:</para>

<screen><userinput><command>patch -Np1 -i ../MPlayer-&mplayer-version;-kernel_2.6-1.patch &amp;&amp;
./configure --prefix=/usr --confdir=/etc/mplayer \
    --enable-largefiles &amp;&amp;
make &amp;&amp;
make install &amp;&amp;
install -d -m755 /usr/share/doc/mplayer &amp;&amp;
cp -R DOCS/* /usr/share/doc/mplayer</command></userinput></screen>

<para><application>MPlayer</application> can build a shared post-processing 
library which other packages can link to. Doing this means that 
<application>MPlayer</application> must also link dynamically to this library 
instead of the default statically linked method. If you desire to build the 
shared library, add <option>--enable-shared-pp</option> to the 
<command>configure</command> script, then execute the following command after 
the commands above:</para>

<screen><userinput><command>make -C libavcodec/libpostproc install</command></userinput></screen>

<para>You will need <filename>codecs.conf</filename> only if you want to
change its properties, as the main binary contains an internal copy of
it. Ensure any changes you make to <filename>codecs.conf</filename> achieve 
the desired results, as incorrect entries in this file have been known to
cause errors and render the player unusable. If necessary, create the file 
using the following command.</para>

<screen><userinput><command>install -m644 etc/codecs.conf /etc/mplayer</command></userinput></screen>

<para>You may also want to copy all the default configuration files to
<filename class='directory'>/etc/mplayer</filename> for future reference or 
more customization ability.</para>

<screen><userinput><command>install -m644 etc/*.conf /etc/mplayer</command></userinput></screen>
</sect3>

<sect3>
<title><acronym>OSD</acronym> and subtitles font installation 
(required if <parameter>--enable-menu</parameter> was passed to 
<command>configure</command>)</title>

<para>The recommended method to set up a font for 
<application>MPlayer</application> is to link a <acronym>TTF</acronym> file to 
your <filename class="directory">~/.mplayer</filename> directory. A link 
should be created in each user's home directory who may use 
<application>MPlayer</application>. For example: 
</para>

<screen><userinput><command>mkdir ~/.mplayer &amp;&amp;
ln -sf /usr/X11R6/lib/X11/fonts/TTF/luxisri.ttf \
    ~/.mplayer/subfont.ttf</command></userinput></screen>

<para>There are several other ways to set up a font package. To use a 
prerendered <application>MPlayer</application> font package, extract and link 
one of the font tarballs using the following commands:</para>

<screen><userinput><command>tar -jxf ../&mplayer-default-font;.tar.bz2 \
    -C /usr/share/mplayer/font &amp;&amp;
chown -R root:root /usr/share/mplayer/font &amp;&amp;
cd /usr/share/mplayer/font &amp;&amp;
ln -sf &mplayer-default-font;/font-arial-<replaceable>[font size]</replaceable>-iso-8859-1/* .</command></userinput></screen>

<para>Available font sizes are 14, 18, 24 or 28.</para>

<para>Additional information as well as additional methods to set up an 
<application>MPlayer</application> font package can be found at <ulink 
url="http://www.mplayerhq.hu/DOCS/HTML/en/subosd.html#mpsub-install"/>.</para>
</sect3>

<sect3>
<title>Installation for <acronym>DVD</acronym> playback (optional)</title>

<para>If you want <acronym>DVD</acronym> playback with
<application>MPlayer</application>, you need to ensure a link exists 
from your <acronym>DVD</acronym> drive to <filename>/dev/dvd</filename>. If
necessary, create the link using the following commands:</para>

<screen><userinput><command>cat &gt;&gt; /etc/udev/rules.d/24-dvd.rules &lt;&lt; "EOF"</command>
# Create a /dev/dvd symlink 
 
KERNEL="<replaceable>[dvd drive]</replaceable>", SYMLINK="dvd"
 
<command>EOF
udevstart</command></userinput></screen>

<para>Replace <replaceable>[dvd drive]</replaceable> with whatever
device is appropriate, for example <filename>hdc</filename>. If
you don't know which device to choose, type:</para>

<screen><userinput><command>dmesg | grep DVD</command></userinput></screen>

<para>It should result in an output like:</para>

<screen><userinput>hdc: Pioneer DVD-ROM ATAPIModel DVD-114 0110,
ATAPI CD/DVD-ROM drive</userinput></screen>
</sect3>

</sect2>

<sect2>
<title>Configuring <application>MPlayer</application></title>

<sect3><title>Config files</title>
<para><filename>/etc/mplayer/*</filename>, 
<filename>~/.mplayer/*</filename></para>
</sect3>

<sect3><title>Configuration information</title>
<para>Typically, there's no configuration required for the system-wide files 
in <filename class='directory'>/etc/mplayer</filename> (in fact, this 
directory is empty unless you copied the default files as mentioned above). 
Configuration can be accomplished by choosing the configuration button located 
on the <application>MPlayer</application> <acronym>GUI</acronym>. Any 
configuration changes made here will be copied to the user's 
<filename>~/.mplayer</filename> directory.</para>
</sect3>

</sect2>

<sect2>
<title>Contents</title>

<para>The <application>MPlayer</application> package contains 
<command>mplayer</command>, 
<command>gmplayer</command> and 
<command>mencoder</command>.</para>

</sect2>

<sect2><title>Description</title>

<sect3><title>mplayer</title>
<para><command>mplayer</command> manages the input formats, the
<acronym>CODEC</acronym>s and the output formats to play video files, 
<acronym>DVD</acronym>s, (S)<acronym>VCD</acronym>s or network streams 
containing audio and/or video information on your system.</para>

<para>Examples:</para>

<screen><command>mplayer -fs blfs.avi
mplayer -vo fbdev -fb /dev/fb0 dvd://1 -aid 128 -sub en -framedrop
mplayer -fs vcd://1    # works both for VCDs and SVCDs
mplayer http://www.students.uni-marburg.de/~Klossa/hapkidofight_lo.mpg</command></screen>

<para>For further information, look at the very good documentation included 
with the package in the source tree subdirectory 
<filename class="directory">DOCS</filename> (also installed at
<filename class='directory'>/usr/share/doc/mplayer</filename>).</para>
</sect3>

<sect3><title>gmplayer</title>
<para><command>gmplayer</command> is a symlink to 
<command>mplayer</command> which brings up the graphical user 
interface component of <application>MPlayer</application>.</para></sect3>

<sect3><title>mencoder</title>
<para><command>mencoder</command> is used to encode any
<application>MPlayer</application> playable movie to DivX4,
<application>XviD</application> or any <acronym>CODEC</acronym> in 
<filename class='libraryfile'>libavcodec</filename> with
<acronym>PCM</acronym>/MP3/VBRMP3 audio.</para>

<para>Example:</para>

<screen><userinput><command>rm frameno.avi
mencoder -dvd 1 -aid 128 -ovc frameno -oac mp3lame \
-lameopts vbr=3 -o frameno.avi</command>

# mencoder should output bitrates for average encodings
# now, choose one you like best! In the following lines,
# replace &lt;bitrate&gt; and &lt;name.avi&gt; with statements of your
# personal liking.

<command>mencoder -dvd 1 -aid 128 -oac copy -ovc lavc \
-lavcopts vcodec=mpeg4:vpass=1:vhq:vbitrate=&lt;bitrate&gt; -o &lt;name.avi&gt;
mencoder -dvd 1 -aid 128 -oac copy -ovc lavc \
-lavcopts vcodec=mpeg4:vpass=2:vhq:vbitrate=&lt;bitrate&gt; -o &lt;name.avi&gt;
mencoder -forceidx &lt;name.avi&gt;</command></userinput></screen>
</sect3>

</sect2>

</sect1>
