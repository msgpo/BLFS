<sect2>
<title>Installation of the kernel patch</title>

<para>Install the kernel patch by running the following commands from
the kernel source directory:</para>

<screen><userinput><command>patch -Np1 -i ../packet-2.4.20.patch</command></userinput></screen>

<para>In the kernel configuration, check your setting with those listed
here:

<screen>Block devices
   Packet writing on CD/DVD media:       Y or M
File Systems
   UDF filesystems support (read only):  Y
     UDF write support (DANGEROUS)       Y</screen></para>

<para>If necessary, recompile the kernel with
<screen><userinput><command>make dep &amp;&amp;
make bzImage&amp;&amp;
make modules &amp;&amp;
make modules_install</command></userinput></screen>
</para>
<para>
Copy <filename>/usr/src/linux/arch/i386/boot/bzImage</filename> and
<filename>/usr/src/linux/System.map</filename> to
<filename class="directory">/boot</filename>, edit <filename>/etc/lilo.conf</filename>
appropriately and run <command>lilo</command>.
</para>

<para>If you build packet writer as a module, add the following to
<filename>/etc/modules.conf</filename>:
<screen><userinput>alias block-major-97 pktcdvd</userinput></screen></para>

<para>Finally, create the packet driver device nodes in <filename
class="directory">/dev</filename>, add one node for every CD-RW drive you
want to support:
<screen><userinput><command>mknod /dev/pktcdvd0 b97 0
mknod /dev/pktcdvd1 b 97 1</command></userinput></screen></para>

</sect2>

