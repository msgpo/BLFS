<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
   "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

<!ENTITY exim-download-http "http://gd.tuwien.ac.at/infosys/mail/exim/exim4/exim-&exim-version;.tar.bz2">
<!ENTITY exim-download-ftp "ftp://ftp.exim.org/pub/exim/exim4/exim-&exim-version;.tar.bz2">
<!ENTITY exim-size "1.2 MB">
<!ENTITY exim-buildsize "11 MB">
<!ENTITY exim-time "0.27 SBU">

]>

<sect1 id="exim" xreflabel="Exim-&exim-version;">
<sect1info>
<othername>$LastChangedBy: $</othername>
<date>$Date: $</date>
</sect1info>
<?dbhtml filename="exim.html"?>
<title>Exim-&exim-version;</title>

<sect2>
<title>Introduction to <application>Exim</application></title>

<para>The <application>Exim</application> package contains a Mail Transport Agent written by the
University of Cambridge, released under the <acronym>GNU</acronym> Public License.</para>

<sect3><title>Package information</title>
<itemizedlist spacing='compact'>
<listitem><para>Download (HTTP): <ulink url="&exim-download-http;"/></para></listitem>
<listitem><para>Download (FTP): <ulink url="&exim-download-ftp;"/></para></listitem>
<listitem><para>Download size: &exim-size;</para></listitem>
<listitem><para>Estimated Disk space required: &exim-buildsize;</para></listitem>
<listitem><para>Estimated build time: &exim-time;</para></listitem></itemizedlist>
</sect3>

<sect3><title><application>Exim</application> dependencies</title>
<sect4><title>Required</title>
<para><xref linkend="db"/>
</para></sect4>
<sect4><title>Optional</title>
<para>
X (<xref linkend="xfree86"/> or <xref linkend="xorg"/>),
<xref linkend="openldap"/>,
<xref linkend="mysql"/>,
<xref linkend="tcpwrappers"/> and
<xref linkend="Linux_PAM"/>
</para></sect4>
</sect3>

</sect2>

<sect2>
<title>Installation of <application>Exim</application></title>

<para>Before building <application>Exim</application>, we need to 
create the group and user exim which will run the exim daemon:</para>

<screen><userinput><command>groupadd exim &amp;&amp;
useradd -d /dev/null -g exim -s /bin/false exim</command></userinput></screen>

<para>Install <application>Exim</application> with the following commands:</para>

<screen><userinput><command>sed -e 's/^BIN_DIR.*$/BIN_DIRECTORY=\/usr\/sbin/' src/EDITME | \
  sed -e 's/^CONF.*$/CONFIGURE_FILE=\/etc\/exim.conf/' | \
  sed -e 's/^EXIM_USER.*$/EXIM_USER=exim/' | \
  sed -e 's/^EXIM_MONITOR/#EXIM_MONITOR/' > Local/Makefile &amp;&amp;
make &amp;&amp;
make install &amp;&amp;
cp doc/exim.8 /usr/share/man/man8 &amp;&amp;
ln -s exim-4.24-1 /usr/sbin/exim &amp;&amp;
ln -s exim /usr/sbin/sendmail</command></userinput></screen>

</sect2>

<sect2>
<title>Command explanations</title>

<para><command>sed -e ... > Local/Makefile</command>: Many of
<application>Exim</application>'s
configuration options are compiled in. Here, we specify the minimum set
of options, <parameter>BIN_DIRECTORY</parameter>,
<parameter>CONFIGURE_FILE</parameter> and
<parameter>EXIM_USER</parameter>. We also defer
building the <application>Exim</application> monitor program, which
requires the <application>X</application> Window System
support, by commenting out the <parameter>EXIM_MONITOR</parameter> line
in the <filename>Makefile</filename>.</para>

<para><command>ln -s exim /usr/sbin/sendmail</command>:
Create a link to <command>sendmail</command> for applications which need
it. <application>Exim</application> will
accept most <application>Sendmail</application> command-line options.</para>

</sect2>

<sect2>
<title>Configuring Exim</title>

<sect3><title>Config files</title>

<para><filename>/etc/exim.conf</filename>, <filename>/etc/aliases</filename></para>

</sect3>

<sect3><title>Configuration Information</title>

<para>Create the Exim configuration files with the following commands:</para> 

<screen><userinput><command>cat &gt;&gt; /etc/aliases &lt;&lt; "EOF"</command>
postmaster: root
MAILER-DAEMON: root
<command>EOF
exim -v -bi &amp;&amp;
/usr/sbin/exim -bd -q1m</command></userinput></screen>

<note><para>To protect an existing <filename>/etc/aliases</filename>
file, we will append these aliases to it if it exists. This file
should be checked and duplicate aliases removed, if
present.</para></note>

<para>To automate the running of exim at startup,
install the <filename>/etc/rc.d/init.d/exim</filename>
init script included in the <xref linkend="intro-important-bootscripts"/> package.</para>

<screen><userinput><command>make install-exim</command></userinput></screen>

</sect3>

</sect2>

<sect2>
<title>Contents</title>

<para>The <application>Exim</application> package contains
<command>exim</command>,
<command>exim_dumpdb</command>,
<command>exim_fixdb</command>,
<command>exim_tidydb</command>,
<command>exinext</command>,
<command>exiwhat</command>,
<command>exim_dbmbuild</command>,
<command>exicyclog</command>,
<command>exigrep</command>,
<command>eximstats</command>,
<command>exiqsumm</command>,
<command>exiqgrep</command>,
<command>exim_lock</command> and
<command>exim_checkaccess</command>.
</para>

</sect2>

<sect2><title>Description</title>
<sect3><title>exim</title>
<para><command>exim</command> is the Mail Transport Agent daemon.</para></sect3>

<sect3><title>exim_dumpdb</title>
<para><command>exim_dumpdb</command> writes the contents of exim databases to the
standard output.</para></sect3>

<sect3><title>exim_fixdb</title>
<para><command>exim_fixdb</command> modifies data in exim databases.</para></sect3>

<sect3><title>exim_tidydb</title>
<para><command>exim_tidydb</command> removes old records from exim databases.</para></sect3>

<sect3><title>exinext</title>
<para><command>exinext</command> queries remote host retry times.</para></sect3>

<sect3><title>exiwhat</title>
<para><command>exiwhat</command> queries running exim processes.</para></sect3>

<sect3><title>exim_dbmbuild</title>
<para><command>exim_dbmbuild</command> creates and rebuilds exim
databases.</para></sect3>

<sect3><title>exicyclog</title>
<para><command>exicyclog</command> cycles exim log files.</para></sect3>

<sect3><title>exigrep</title>
<para><command>exigrep</command> searches exim log files.</para></sect3>

<sect3><title>eximstats</title>
<para><command>eximstats</command> generates mail statistics from exim log
files.</para></sect3>

<sect3><title>exiqsumm</title>
<para><command>exiqsumm</command> produces a summary of the messages on the mail
queue.</para></sect3> 

<sect3><title>exiqgrep</title>
<para><command>exiqgrep</command> is an utility for selective queue
listing.</para></sect3>

<sect3><title>exim_lock</title>
<para><command>exim_lock</command> locks a mailbox file.</para></sect3>

<sect3><title>exim_checkaccess</title>
<para><command>exim_checkaccess</command> states whether a given recipient address from a
given host is acceptable or not.</para></sect3>

</sect2>

</sect1>

