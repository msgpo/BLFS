<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
   "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!ENTITY db-3.3-download-http " ">
  <!ENTITY db-3.3-download-ftp  "ftp://ftp.pu.edu.tw/Unix/Database/BerkeleyDB/db-&db-3.3-version;.tar.gz">
  <!ENTITY db-3.3-size          "2.3 MB">
  <!ENTITY db-3.3-buildsize     "20.3 MB">
  <!ENTITY db-3.3-time          "0.80 SBU">
]>

<sect1 id="db-3.3" xreflabel="Berkeley DB-&db-3.3-version;">
<?dbhtml filename="db-3.3.html"?>
<title>Berkeley DB-&db-3.3-version;</title>

<sect2>
<title>Introduction to <application>Berkeley DB</application>-&db-3.3-version;</title>

<para>The <application>Berkeley DB</application> package contains version 
&db-3.3-version; of the Berkeley Database.</para>

<sect3><title>Package information</title>
<itemizedlist spacing='compact'>
<listitem><para>Download (HTTP): <ulink
url="&db-3.3-download-http;"/></para></listitem>
<listitem><para>Download (FTP): <ulink
url="&db-3.3-download-ftp;"/></para></listitem>
<listitem><para>Download size: &db-3.3-size;</para></listitem>
<listitem><para>Estimated Disk space required:
&db-3.3-buildsize;</para></listitem>
<listitem><para>Estimated build time:
&db-3.3-time;</para></listitem></itemizedlist>
</sect3>

<sect3><title>Additional downloads</title>
<itemizedlist spacing='compact'>
<listitem><para>Required Patch: <ulink
url="http://www.sleepycat.com/webforms/patchdl.php?src=patch.3.3.11.1"/></para></listitem>
<listitem><para>Recommended Patch: <ulink
url="http://www.sleepycat.com/webforms/patchdl.php?src=patch.3.3.11.2"/></para></listitem>
</itemizedlist></sect3>


</sect2>

<sect2>
<title>Installation of <application>Berkeley DB</application></title>

<para>See: <ulink url="http://www.sleepycat.com/download/patching.shtml"/> 
for instructions on installing the patches.
</para>

<para>Install <application>Berkeley DB</application> by running the following commands:
</para>

<screen><userinput><command>cd build_unix &amp;&amp;
../dist/configure --prefix=/opt/db-3.3 --enable-compat185 &amp;&amp;
make &amp;&amp;
make docdir=/opt/db-3.3/doc/Berkeley-DB install &amp;&amp;
cd /opt/db-3.3/lib/ &amp;&amp;
rm -f libdb.so &amp;&amp;
for i in $(ls); do mv $i /usr/lib; ln -sf /usr/lib/$i; done &amp;&amp;
cd /opt/db-3.3/include/ &amp;&amp;
sed -i 's/^DB185/DB/' db_185.h &amp;&amp;
ln -nsf /opt/db-3.3/include /usr/include/db3</command></userinput></screen>

</sect2>

<sect2>
<title>Command explanations</title>

<para><command>sed 's/^DB185/DB/' /usr/include/db_185.h > /usr/include/db_185.h.new</command>: Change the DB185 database pointer to DB.</para>

</sect2>

<sect2>
<title>Contents</title>

<para>The <application>Berkeley DB</application> package contains
<command>db_archive</command>,
<command>db_checkpoint</command>,
<command>db_deadlock</command>,
<command>db_dump</command>,
<command>db_load</command>,
<command>db_printlog</command>,
<command>db_recover</command>,
<command>db_stat</command>,
<command>db_upgrade</command> and
<command>db_verify</command>.

</para>

</sect2>

<sect2><title>Description</title>

<sect3><title>db_archive</title>
<para><command>db_archive</command> prints the pathnames of log files that are 
no longer in use.</para></sect3>


<sect3><title>db_checkpoint</title>
<para><command>db_checkpoint</command> is a daemon process used to monitor and 
checkpoint database logs.</para></sect3>

<sect3><title>db_deadlock</title>
<para><command>db_deadlock</command> is used to abort lock requests when 
deadlocks are detected.</para></sect3>

<sect3><title>db_dump</title>
<para><command>db_dump</command> converts database files to a flat file format 
readable by <command>db_load</command>.</para></sect3>

<sect3><title>db_load</title>
<para><command>db_load</command> is used to create database files from flat 
files created with <command>db_dump</command>.</para></sect3>

<sect3><title>db_printlog</title>
<para><command>db_printlog</command> converts database log files to human 
readable text.</para></sect3>


<sect3><title>db_recover</title>
<para><command>db_recover</command> is used to restore a database to a 
consistent state after a failure.</para></sect3>

<sect3><title>db_stat</title>
<para><command>db_stat</command> displays database environment statistics.
</para></sect3>

<sect3><title>db_upgrade</title>
<para><command>db_upgrade</command> is used to upgrade database files to a 
newer version of <application>Berkeley DB</application>.</para></sect3>

<sect3><title>db_verify</title>
<para><command>db_verify</command> is used to run consistency checks on 
database files.</para></sect3>

</sect2>

</sect1>
