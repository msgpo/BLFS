<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
   "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="dhcp-client" xreflabel="DHCP-&dhcp-version; Client">
<sect1info>
<othername>$LastChangedBy$</othername>
<date>$Date$</date>
</sect1info>
<?dbhtml filename="dhcpclient.html"?>
<title>DHCP-&dhcp-version; Client</title>
<indexterm zone="dhcp-client">
<primary sortas="b-dhclient">dhclient</primary></indexterm>

<para>The <application><acronym>DHCP</acronym></application> package comes with
both a client (<command>dhclient</command>) and a server program for 
using <acronym>DHCP</acronym>.  If you want to install this package, 
the instructions can be found at <xref linkend="dhcp"/>.  
Note that if you only want to use the client, you 
do <emphasis>not</emphasis> need to run the server and so do not need 
the startup script and links provided for the server daemon.
You only need to run the <acronym>DHCP</acronym> server if you're providing 
this service to a network, and it's likely that you'll know if that's the
case; if it isn't, don't run the server!  Once you have installed the
package, return here for information on how to configure the client
(<command>dhclient</command>).</para>

<para id="dhclient-service">To configure <command>dhclient</command>, you need 
to first install the network service script,
<filename>/etc/sysconfig/network-devices/services/dhclient</filename> 
included in the <xref linkend="intro-important-bootscripts"/> package 
(as root).</para>
<indexterm zone="dhcp-client dhclient-service">
<primary sortas="f-dhclient">dhclient (service script)</primary></indexterm>

<screen><userinput role='root'><command>make install-service-dhclient</command></userinput></screen>

<para id="dhclient-config1">Next, create the 
<filename>/etc/sysconfig/network-devices/ifconfig.eth0/dhclient</filename>
configuration file with the following commands as the root user.  Adjust as 
necessary for additional interfaces.</para>
<indexterm zone="dhcp-client dhclient-config1">
<primary 
sortas="e-etc-sysconfig-...-dhclient">/etc/sysconfig/.../dhclient</primary>
</indexterm>

<screen><userinput role='root'><command>install -d /etc/sysconfig/network-devices/ifconfig.eth0 &amp;&amp;
cat &gt; /etc/sysconfig/network-devices/ifconfig.eth0/dhclient &lt;&lt; "EOF"</command>
ONBOOT="yes"
SERVICE="dhclient"
DHCP_START="-q <replaceable>[add additional start parameters here]</replaceable>"
DHCP_STOP="-q -r <replaceable>[add additional stop parameters here]</replaceable>"
<command>EOF</command></userinput></screen>

<para>For more information on the appropriate 
<envar>DHCP_START</envar> and <envar>DHCP_STOP</envar> 
values, examine the man page for <command>dhclient</command>.</para>

<para id="dhclient-config2">Finally, you should create the 
<filename>/etc/dhclient.conf</filename> file using the following
commands as the root user:</para>  
<indexterm zone="dhcp-client dhclient-config2">
<primary sortas="e-etc-dhclient.conf">/etc/dhclient.conf</primary></indexterm>

<note><para>You'll need to add a second interface definition to the file if you 
have more than one interface.</para></note>

<screen><userinput role='root'><command>cat &gt; /etc/dhclient.conf &lt;&lt; "EOF"</command>
# dhclient.conf

interface "eth0"{
prepend domain-name-servers 127.0.0.1;
request subnet-mask, broadcast-address, time-offset, routers,
        domain-name, domain-name-servers, host-name;
require subnet-mask, domain-name-servers;
}
# end dhclient.conf
<command>EOF</command></userinput></screen>

</sect1>
