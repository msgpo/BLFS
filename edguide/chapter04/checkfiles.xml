<sect1 id="ch04-checkfiles">
<title>Check all relevant files have been added and removed</title>
<?dbhtml filename="checkfiles.html" dir="chapter04"?>

<para>If you are adding files, you need to have ran a <userinput>cvs
add</userinput> command on each of them (something like <userinput>cvs
add packages/m/mypackage*.xml</userinput> often does the trick.  A good
trick if you've only added files (not taken any away) is to run a
<userinput>cvs up</userinput> which will give an output something like
this:
<screen>mark:~/LFS/BLFS$ cvs up
? temp/thisfileneedstobeadded
cvs server: Updating .
cvs server: Updating appendixa
[snip]
cvs server: Updating packages/z
cvs server: Updating parts
cvs server: Updating preface
cvs server: Updating temp
A temp/thisfileadded
R temp/thisfilehasbeendeleted
M temp/thisfilehasbeenmodified
U temp/thisfilehasbeenupdatedfromtheserver
RCS file: /home/cvsroot/BLFS/temp/thisfilehasconflicts,v
retrieving revision 1.1
retrieving revision 1.2
Merging differences between 1.1 and 1.2 into thisfilehasconflicts
rcsmerge: warning: conflicts during merge
cvs server: conflicts found in temp/thisfilehasconflicts
C temp/thisfilehasconflicts
RCS file: /home/cvsroot/BLFS/temp/thisfilehashadchangesmergedin,v
retrieving revision 1.1
retrieving revision 1.2
Merging differences between 1.1 and 1.2 into
thisfilehashadchangesmergedin
M temp/thisfilehashadchangesmergedin
cvs server: Updating template</screen>
[snip]'s added by me!  If you look at the first column, you will see
various different letters which all mean different things.</para>

<para><userinput>?</userinput>: This is what CVS reports when it doesn't
know what to do with a file.  Generally it means that you've forgotten
to <userinput>cvs add</userinput> a file to the repository but can also
just be temporary editor files which CVS doesn't know what to do with.
If it's just temporary files, don't worry, it won't try and commit them
when you do a <userinput>cvs ci</userinput> because you haven't added
them.  Instead it'll just leave them alone.</para>

<para><userinput>A</userinput>: This is a file which has been added to
CVS using <userinput>cvs add</userinput> but has not yet been committed.
When you're ready to commit it, simply do a <userinput>cvs
ci</userinput> on it (and don't forget that nearly all cvs operations
can be
performed on as many files at once as you like; indeed, if you specify
no file, it'll either give you an error (if it doesn't make sense; like
with <userinput>cvs add</userinput> or <userinput>delete</userinput>) or
simply perform the action on all files from that directory downwards in
the tree; for example with <userinput>cvs ci</userinput>).</para>

<para><userinput>R</userinput>: This is a file which has been removed
from CVS using <userinput>cvs delete</userinput> but has not yet been
committed.
The equivalent of 'A' for added files.</para>

<para><userinput>M</userinput>: This is a file which has been modified
in your local repository and hasn't been checked in.  If there have also
been changes in the remote copy, it means that CVS successfully merged
them.  Even so, if (as in the file thisfilehashadchangesmergedin above)
changes have been automatically merged, you should look them over to
check that they make sense.  Then, when you're ready, commit.</para>

<para><userinput>U</userinput>: This is a file which was unchanged
locally but changed remotely.  The changes were successfully applied to
your local copy.  You don't need to commit on this message as you
haven't made any local changes.</para>

<para><userinput>C</userinput>: This is the horrible one.  It means that
you have made local changes but at the same time someone has made remote
changes which can't be automatically merged with yours.  You will have
to go through the files (usually named with .'s and version numbers) and
sort the conflict out yourself.  Due to the nature of the BLFS book,
this doesn't happen very often (well up to now never because I was the
only one committing but even with the LFS book I've only known it happen
a couple of times).  If this happens to you, good luck and have
fun.</para>

<para>Once you know why you're getting each symbol, and they're all
correct, you can proceed to the next step.</para>

</sect1>
